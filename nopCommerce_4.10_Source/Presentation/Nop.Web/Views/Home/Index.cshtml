@{
    Layout = "_ColumnsOne";

    //page class
    Html.AppendPageCssClassParts("html-home-page");
}
<div class="page home-page">
    <div class="page-body">
        @await Component.InvokeAsync("Widget", new { widgetZone = PublicWidgetZones.HomePageTop })
        @await Component.InvokeAsync("TopicBlock", new { systemName = "HomePageText" })
        @await Component.InvokeAsync("Widget", new { widgetZone = PublicWidgetZones.HomePageBeforeCategories })
        @await Component.InvokeAsync("HomepageCategories")
        @await Component.InvokeAsync("Widget", new { widgetZone = PublicWidgetZones.HomePageBeforeProducts })
        @await Component.InvokeAsync("HomepageProducts")
        @await Component.InvokeAsync("Widget", new { widgetZone = PublicWidgetZones.HomePageBeforeBestSellers })
        @await Component.InvokeAsync("HomepageBestSellers")
        @await Component.InvokeAsync("Widget", new { widgetZone = PublicWidgetZones.HomePageBeforeNews })
        @await Component.InvokeAsync("HomepageNews")
        @await Component.InvokeAsync("Widget", new { widgetZone = PublicWidgetZones.HomePageBeforePoll })
        @await Component.InvokeAsync("HomepagePolls")
        @await Component.InvokeAsync("Widget", new { widgetZone = PublicWidgetZones.HomePageBottom })
    </div>
</div>

<div class="chatbox" id="chatbox">
    <div class="chatBoxBar" id="chatBoxBar"></div>
    <div class="chatlogs" id="chatlogs">
        <div class="chat friend" id="result">
            <div class="bot-photo"></div>
            <p class="chat-message">
                Hello, I am Natasha your Customer Service Assistant today!
                How can I help you?
            </p>
        </div>
    </div>
    <div class="chat-form">
        <input type="text" id="ans" placeholder="Enter your response here" required />
        <button id="chat_send_button">Send</button>
    </div>
</div>
  </div>
<div>
    <div>

        <script>
            document.getElementById("chat_send_button").addEventListener("click", send_message);
            var questions = [
                'Hi, I am Natasha how can I help you, today',
                'Where are you from?',
                'What\'s your age?',
                'What profile you are working on?',
                'It was nice talking to you :)'
            ];

            var help = [
                'I see that you have quested help...Here are some possible categories in which I can help you in.',
                '1. Report damage products',
                '2. Report missing delivery item',
                '3. Need help in website direction',
                '4. Product Sugguestion',
                '5. Search products',
                '6. Get customer service info',
                '7. More Information on Nop-Commerce',
            ];

            function valid_chatbot_helpresponse(user_response) {
                var chat_bot_response = "";

                if (user_response != null) {
                    if (user_response == 1) {
                        chat_bot_response = `To report damage products, go to the contact page and email us. You will need to provide your name, email and your report information.`;
                    } else if (user_response == 2) {
                        chat_bot_response = `To report any missing products, go to the contact page and email us. You will need to provide your name, email and your report information.`;
                    } else if (user_response == 3) {
                        chat_bot_response = `Print out different categories of things on website-- another menu...`;
                    } else if (user_response == 4) {
                        chat_bot_response = `What kinds of product are you looking for?`;
                    } else {
                        chat_bot_response = `Sorry, I didn't understand what you said. Can you repeat yourself?`;
                    }
                } else {
                    chat_bot_response = `Sorry, I didn't understand what you said. Can you repeat yourself?`;
                }
                return chat_bot_response;
            }

            function send_message_to_chat(client_message, class_name, id_name, photo_id) {
                client_message = $.trim(client_message);
                if (client_message != null) {
                    if (class_name == 'chat friend' || class_name == 'chat self') {
                        var innerDiv = document.createElement('div');
                        innerDiv.className = class_name;
                        innerDiv.id = id_name;
                        document.getElementById("chatlogs").appendChild(innerDiv);

                        var userPhotoDiv = document.createElement('div');
                        userPhotoDiv.className = photo_id;
                        innerDiv.appendChild(userPhotoDiv);
                        var client_message = document.getElementById('ans').value;

                        var node = document.createElement("p");
                        node.className = "chat-message";
                        if (class_name == 'chat self') {
                            var responseNode = document.createTextNode(client_message);
                        } else {
                            if (client_message == 'help' || client_message == 'HELP' || client_message == 'Help') {
                                var responseNode = document.createTextNode(help[0]);
                            } else {
                                var responseNode = document.createTextNode(questions[0]);
                            }
                        }
                        node.appendChild(responseNode);

                        innerDiv.appendChild(node);
                        document.getElementById("chatlogs").appendChild(innerDiv);
                    }
                }
            }


            function send_message() {
                client_message = document.getElementById('ans').value;
                if (client_message == 'help' || client_message == 'HELP' || client_message == 'Help') {
                    console.log("Client requested help from the bot.");
                    send_message_to_chat(client_message, 'chat self', 'ans-show', 'user-photo');
                    chat_bot_response(client_message);

                } else if (client_message != null && client_message != "") {
                    console.log("Client Side Message: " + client_message);

                    send_message_to_chat(client_message, 'chat self', 'ans-show', 'user-photo');
                    chat_bot_response();

                    $(document).ready(function () {
                        $('#chatlogs').animate({
                            scrollTop: $('#chatlogs').get(0).scrollHeight
                        }, 2000);

                    });
                }
            }

            function chat_bot_response() {
                client_message = document.getElementById('ans').value;
                var chat_reponse = questions[0];
                send_message_to_chat(client_message, 'chat friend', 'result', 'bot-photo');
                var objDiv = document.getElementById("chatlogs");
                objDiv.scrollTop = objDiv.scrollHeight;

                $('#chatlogs').scrollTop($('#chatlogs')[0].scrollHeight);
                console.log("NATASHA: " + questions[0]);
            }
        </script>
